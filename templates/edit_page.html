<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Edit Article</title>
</head>
<body>

<h2>Edit Article</h2>

<form method="post" enctype="multipart/form-data">
  {% csrf_token %}

  <label for="title">Title</label>
  <input
    type="text"
    id="title"
    name="title"
    value="{{ article.title }}"
    required
  >

  <br><br>

  <label for="content">Content</label>
  <textarea
    id="content"
    name="content"
    rows="6"
    required
  >{{ article.content }}</textarea>

  <br><br>

  <label for="category">Category</label>
  <select name="category" id="category" required>
    {% for category in categories %}
      <option
        value="{{ category.id }}"
        {% if article.category.id == category.id %}selected{% endif %}
      >
        {{ category.name }}
      </option>
    {% endfor %}
  </select>

  <br><br>

  <p>Current Image</p>
  {% if article.image %}
    <img src="{{ article.image.url }}" width="200">
  {% else %}
    <p>No image</p>
  {% endif %}

  <br><br>

  <label for="image">New Image</label>
  <input type="file" id="image" name="image">

  <br><br>

  <label>
    <input type="checkbox" name="remove_image" value="1">
    Remove current image
  </label>

  <br><br>

  <a href="{% url 'article_detail' article.id %}">Back</a>


  <a href="{% url 'article_detail' article.id %}">Done</a>
</form>

</body>
</html>
